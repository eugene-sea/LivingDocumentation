<table>
  <tr>
    <td><h4 ng-bind-html="ctrl.scenario.Name || 'Background' | highlight"></h4></td>
    <td class="no-stretch" ng-if="ctrl.scenario.tests && ctrl.scenario.tests.length == 1">
      <a class="text-right" href="{{ctrl.scenario.tests[0]}}" target="_blank">Run test</a>
    </td>
    <td class="no-stretch">&nbsp;</td>
    <td class="no-stretch">
      <h4>
        <div status="ctrl.scenario.Result" is-manual="ctrl.scenario.isManual"></div>
      </h4>
    </td>
    <td class="no-stretch">&nbsp;</td>
    <td class="no-stretch">
      <a ng-click="ctrl.scenario.isExpanded = !ctrl.scenario.isExpanded">
        <h4>
          <span ng-if="ctrl.scenario.isExpanded" class="glyphicon glyphicon-collapse-up"></span>
          <span ng-if="!ctrl.scenario.isExpanded" class="glyphicon glyphicon-collapse-down"></span>
        </h4>
      </a>
    </td>
  </tr>
</table>

<div ng-if="ctrl.scenario.isExpanded">
  <p ng-if="ctrl.scenario.Tags.length > 0">
    <span tags="ctrl.scenario.Tags" documentation="ctrl.documentation"></span>
  </p>

  <p><i ng-bind-html="ctrl.scenario.Description | highlight | newline"></i></p>

  <div ng-repeat="step in ctrl.scenario.Steps" style="margin-bottom: 10px">
    <b>{{step.Keyword}}</b> <span ng-bind-html="step.Name | highlight | scenarioOutlinePlaceholder"></span>
    <div ng-if="step.TableArgument">
      <div table="step.TableArgument"></div>
    </div>
    <div ng-if="step.DocStringArgument">
      <div class="well h-scrollable">
        <span
          class="no-wrap"
          ng-bind-html="step.DocStringArgument | highlight | scenarioOutlinePlaceholder | newline">
        </span>
      </div>
    </div>
  </div>

  <div ng-if="ctrl.scenario.Examples">
    <div style="margin-bottom: 10px">
      <b>Examples:</b>
      <p><i ng-bind-html="ctrl.scenario.Examples.Description | highlight | newline"></i></p>
      <div table="ctrl.scenario.Examples.TableArgument" tests="ctrl.scenario.tests"></div>
    </div>
  </div>
</div>
